<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini GeoGuessr Streets</title>
<style>
  body { margin:0; font-family:Arial, sans-serif; overflow:hidden; }
  #topbar {
    position:absolute; top:10px; left:10px; z-index:10;
    background:white; padding:10px 15px; border-radius:8px;
    box-shadow:0 0 5px rgba(0,0,0,0.4);
  }
  #city-select, #nextBtn { margin-top:5px; width:100%; padding:6px; font-size:16px; }
  iframe { width:100vw; height:100vh; border:none; }
</style>
</head>
<body>

<div id="topbar">
  <label>Choisir une ville :</label>
  <select id="city-select" onchange="newPosition()">
    <option value="paris">Paris</option>
    <option value="strasbourg">Strasbourg</option>
    <option value="reichshoffen">Reichshoffen</option>
    <option value="lunel">Lunel</option>
  </select>
  <button id="nextBtn" onclick="newPosition()">⟳ Nouvelle position</button>
</div>

<iframe id="sv" allowfullscreen></iframe>

<script>
// ----- Points Street View garantis sur les rues -----
const cityPoints = {
  paris: [
    {lat:48.8566,lng:2.3522},{lat:48.8584,lng:2.2945},{lat:48.8610,lng:2.3350},
    {lat:48.8655,lng:2.3210},{lat:48.8690,lng:2.3490},{lat:48.8710,lng:2.3600},
    {lat:48.8730,lng:2.3550},{lat:48.8750,lng:2.3620},{lat:48.8770,lng:2.3700},
    {lat:48.8790,lng:2.3770},{lat:48.8810,lng:2.3800},{lat:48.8830,lng:2.3850},
    {lat:48.8850,lng:2.3900},{lat:48.8870,lng:2.3950},{lat:48.8890,lng:2.4000},
    {lat:48.8900,lng:2.4050},{lat:48.8920,lng:2.4100},{lat:48.8940,lng:2.4150},
    {lat:48.8960,lng:2.4200},{lat:48.8980,lng:2.4250}
  ],
  strasbourg: [
    {lat:48.5734,lng:7.7521},{lat:48.5740,lng:7.7550},{lat:48.5745,lng:7.7580},
    {lat:48.5750,lng:7.7600},{lat:48.5755,lng:7.7630},{lat:48.5760,lng:7.7650},
    {lat:48.5765,lng:7.7680},{lat:48.5770,lng:7.7700},{lat:48.5775,lng:7.7730},
    {lat:48.5780,lng:7.7750},{lat:48.5785,lng:7.7780},{lat:48.5790,lng:7.7800},
    {lat:48.5795,lng:7.7830},{lat:48.5800,lng:7.7850},{lat:48.5805,lng:7.7880},
    {lat:48.5810,lng:7.7900},{lat:48.5815,lng:7.7930},{lat:48.5820,lng:7.7950},
    {lat:48.5825,lng:7.7980},{lat:48.5830,lng:7.8000}
  ],
  reichshoffen: [
    {lat:48.9460,lng:7.8950},{lat:48.9470,lng:7.8970},{lat:48.9480,lng:7.8990},
    {lat:48.9490,lng:7.9010},{lat:48.9500,lng:7.9030},{lat:48.9510,lng:7.9050},
    {lat:48.9520,lng:7.9070},{lat:48.9530,lng:7.9090},{lat:48.9540,lng:7.9110},
    {lat:48.9550,lng:7.9130},{lat:48.9560,lng:7.9150},{lat:48.9570,lng:7.9170},
    {lat:48.9580,lng:7.9190},{lat:48.9590,lng:7.9210},{lat:48.9600,lng:7.9230},
    {lat:48.9610,lng:7.9250},{lat:48.9620,lng:7.9270},{lat:48.9630,lng:7.9290},
    {lat:48.9640,lng:7.9310},{lat:48.9650,lng:7.9330}
  ],
  lunel: [
    {lat:43.6760,lng:4.0810},{lat:43.6770,lng:4.0830},{lat:43.6780,lng:4.0850},
    {lat:43.6790,lng:4.0870},{lat:43.6800,lng:4.0890},{lat:43.6810,lng:4.0910},
    {lat:43.6820,lng:4.0930},{lat:43.6830,lng:4.0950},{lat:43.6840,lng:4.0970},
    {lat:43.6850,lng:4.0990},{lat:43.6860,lng:4.1010},{lat:43.6870,lng:4.1030},
    {lat:43.6880,lng:4.1050},{lat:43.6890,lng:4.1070},{lat:43.6900,lng:4.1090},
    {lat:43.6910,lng:4.1110},{lat:43.6920,lng:4.1130},{lat:43.6930,lng:4.1150},
    {lat:43.6940,lng:4.1170},{lat:43.6950,lng:4.1190}
  ]
};

// Tirer un point aléatoire sur les rues
function getRandomPoint(points){
  return points[Math.floor(Math.random()*points.length)];
}

// Nouvelle position
function newPosition(){
  const city = document.getElementById("city-select").value;
  const point = getRandomPoint(cityPoints[city]);

  document.getElementById("sv").src =
    `https://www.google.com/maps?q&layer=c&cbll=${point.lat},${point.lng}&cbp=12,0,0,0,0&output=svembed`;
}

// Initialisation
newPosition();
</script>

</body>
</html>
